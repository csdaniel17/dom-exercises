<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>event bubbling</title>
    <script>
    /*
    This is a todo list app. Clicking the
    "remove" button should remove the
    corresponding li from the list.

    Typing a task description into #input-field and then clicking #add-button should add a new li with
    the task description and a remove button
    into #tasks.
    */
    window.onload = function() {
      var tasks = document.getElementById('tasks');
      var addButton = document.getElementById('add-button');
      addButton.addEventListener('click', function(event) {
        var input = document.getElementById('input-field').value;
        var li = document.createElement('li');
        li.textContent = input;
        var addRemoveButton = document.createElement('button');
        addRemoveButton.textContent = 'remove';
        tasks.appendChild(li).appendChild(addRemoveButton);
        var removeButtons = document.querySelectorAll('#tasks button');
        for (var i = 0; i < removeButtons.length; i++) {
          removeButtons[i].addEventListener('click', function(event) {
            var button = event.target;
            var li = button.parentNode;
            var list = li.parentNode;
            li.remove(li);
          });
        }
      });
    }


    //v2
    //find the list
    var tasks = document.getElementById('tasks');
    tasks.addEventListener('click', function(event) {
      var button = event.target;
      var li = button.parentNode;
      tasks.remove(li);
    });


    </script>
  </head>
  <body>
    <input id="input-field" type="text">
    <button id="add-button">Add</button>
    <ul id="tasks">
      <li>Water plants
        <button>remove</button>
      </li>
      <li>Homework
        <button>remove</button>
      </li>
    </ul>
  </body>
</html>
